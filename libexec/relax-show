#!/usr/bin/env bash -eu
# @(#) relax: `show` command
# completions

usage() {
	cat <<-EOM
	usage: ${ME} show <distribution> <item>

	Print the latest artifacts

	Items:
	    build:	Print the latest build directory
	    archive:	Open the latest archive file
	    ipa:	Print the latest IPA 
	EOM
	fin
}

[[ $# != 0 ]] || usage

arg=$1
shift
case $arg in
-h|--help)
	usage
	;;
--completions)
	if [[ $# == 0 ]]; then
		echo "${REL_DISTRIBUTIONS[@]}"
	else
		if [[ " ${REL_DISTRIBUTIONS[@]} " =~ " $1 " ]]; then
			echo "build archive ipa"
		fi
	fi
	fin
	;;
*)
	distribution=$arg

	[[ " ${REL_DISTRIBUTIONS[@]} " =~ " $distribution "  ]]  || die "Not found '$distribution' distribution"

	[[ $# == 1 ]] || usage
	if ! read_path "$distribution" "$1"; then
		die "Not found the latest $1"
	fi
	;;
esac
