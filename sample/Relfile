#
# Relax configuration YAML
#

version: '2'
xcodeproj: SampleApp # 'xcodeproj' or `workspace`
log_formatter: xcpretty
uploader:
  crashlytics:
    token:   "$CL_TOKEN"
    secret:  "$CL_SECRET" 
    group:   "$CL_GROUP"
  testfairy:
    api_key: "$TF_API_KEY"
    metrics: "$TF_METRICS"
    groups:  "$TF_GROUPS"
    video:   "$TF_VIDEO"
    notify:  "$TF_NOTIFY"

distributions:
  adhoc:
    scheme: Sample App
    team_id: J3D7L9FHSS
    provisioning_profile: "${PROVISION_PROFILE_ADHOC}"
    export_options:
      method: ad-hoc 
      thinning : iPhone7,1
      compileBitcode: false

  enterprise:
    scheme: Sample App
    team_id: ABCDEFGHIJ
    bundle_identifier: com.scenee.SampleApp
    bundle_version:  "%h-%C"
    export_options:
      method: enterprise

  appstore:
    scheme: Sample App
    team_id: J3D7L9FHSS
    provisioning_profile: "Relax AppStore"
    export_options:
      method: appstore
      upload_symbols: true
      #uploadSymbols: true
      #uploadBitcode: true

  framework:
    scheme: SampleFramework  # Required
    build_settings:
      OTHER_C_FLAGS:
        - "-fembed-bitcode"
        - "-fsanitize=address"

  staticlib:
    scheme: SampleLib

  development:
    scheme: Sample App
    team_id: J3D7L9FHSS
    provisioning_profile: "$PROVISION_PROFILE_DEV"
    configuration: Debug
    bundle_identifier: com.scenee.SampleApp
    bundle_version:  "%h-%c"
    info_plist:
      CFBundleName: Sample (Debug)
      CFBundleDevelopmentRegion: "$COUNTRY"
      UISupportedExternalAccessoryProtocols:
        - com.example.SampleApp
        - com.example.SampleApp2
      MYSETTINGS:
        Endpoint: "example.com"
        ClientID: qwerty
        Preferences:
          Foo: bar
        Array:
          - 1
          - 2
    build_settings:
      OTHER_SWIFT_FLAGS: 
        - "-DMOCK"
    export_options:
      method: development # Required
      compileBitcode: false

  development2:
    sdk: iphoneos
    scheme: Sample App
    team_id: J3D7L9FHSS  # Required
    provisioning_profile: "$PROVISION_PROFILE_DEV"
    configuration: Debug
    version: "$VERSION"
    bundle_identifier: com.scenee.SampleApp.$BUNDLE_SUFFIX
    bundle_version: "%h-debug-internal"
    export_options:
      method: development # Required
      compileBitcode: false

# vim: set sts=2 sw=2 ts=2 ft=yaml expandtab :
