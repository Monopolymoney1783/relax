#
# Relax configuration YAML
#

version: "2"
xcodeproj: SampleApp # Required. Or `workspace: YourApp` for a workspace
log_formatter: xcpretty
uploader:
  crashlytics:
    token:   "$CL_TOKEN"
    secret:  "$CL_SECRET" 
    group:   "$CL_GROUP"
  testfairy:
    api_key: "$TF_API_KEY"
    metrics: "$TF_METRICS"
    groups:  "$TF_GROUPS"
    video:   "$TF_VIDEO"
    notify:  "$TF_NOTIFY"

distributions:
  development:
    scheme: Sample App  # Required
    team_id: J3D7L9FHSS  # Required
    provisioning_profile: "$PROVISION_PROFILE_DEV"
    configuration: Debug
    bundle_identifier: com.scenee.SampleApp # Please replace your valid identifier.
    bundle_version:  "%h-%c"
    build_settings:
      OTHER_SWIFT_FLAGS: 
        - "-DMOCK"
      OTHER_LINKER_FLAGS:
        - "$(inherited)"
        - "-ObjC"
    info_plist:
      CFBundleName: Sample (Debug)
      CFBundleDevelopmentRegion: $COUNTRY
      UISupportedExternalAccessoryProtocols:
        - com.example.SampleApp
        - com.example.SampleApp2
    export_options:
      method: development # Required
      compileBitcode: false

  development2:
    sdk: iphoneos
    scheme: Sample App
    team_id: J3D7L9FHSS  # Required
    provisioning_profile: "$PROVISION_PROFILE_DEV"
    configuration: Debug
    version: "$VERSION"
    bundle_identifier: com.scenee.SampleApp.$BUNDLE_SUFFIX
    bundle_version: "%h-debug-internal"
    export_options:
      method: development # Required
      compileBitcode: false

  adhoc:
    scheme: Sample App  # Required
    team_id: J3D7L9FHSS  # Required
    provisioning_profile: "$PROVISION_PROFILE_ADHOC"
    export_options:
      method: ad-hoc 
      thinning : iPhone7,1
      compileBitcode: false

  enterprise:
    scheme: Sample App  # Required
    team_id: ABCDEFGHIJ  # Required
    bundle_identifier: com.scenee.SampleApp # Please replace your valid identifier.
    bundle_version:  "%h-%C"
    export_options:
      method: enterprise

  appstore:
    scheme: Sample App  # Required
    team_id: J3D7L9FHSS  # Required
    provisioning_profile: "Relax AppStore"
    export_options:
      method: appstore
      upload_symbols: true
      #uploadSymbols: true
      #uploadBitcode: true

  framework:
    scheme: SampleFramework  # Required
    build_settings:
      OTHER_C_FLAGS:
        - "-fembed-bitcode"
        - "-fsanitize=address"

  staticlib:
    scheme: SampleLib  # Required

# vim: set sts=2 sw=2 ts=2 ft=yaml expandtab :
